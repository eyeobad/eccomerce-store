{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block title %}E Store - {{ product.name }}{% endblock %}

{% block extra_head %}
<style>
  /* Mobile-specific styling for Product Detail Page */
  @media (max-width: 767px) {
    /* Overall adjustments */
    body, h1, h2, h3, h4, h5, h6, p, label {
      font-size: 14px;
    }
    .container-fluid {
      padding-left: 10px;
      padding-right: 10px;
    }
    /* Product Detail Top adjustments */
    .product-detail-top .col-md-5,
    .product-detail-top .col-md-7 {
      padding: 5px;
    }
    .product-detail-top h2 {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .product-detail-top .ratting i {
      font-size: 16px;
    }
    .product-detail-top .price p {
      font-size: 16px;
    }
    .product-detail-top .quantity .qty input {
      width: 70px;
      padding: 5px;
      font-size: 14px;
    }
    .product-detail-top .action .btn {
      font-size: 14px;
      padding: 8px 12px;
      margin-bottom: 5px;
    }
    /* Tabbed Details Section */
    .product-detail-bottom .nav-pills li a {
      font-size: 14px;
      padding: 8px;
    }
    .product-detail-bottom .tab-content {
      font-size: 14px;
      padding: 10px 0;
    }
    /* Related Products Section */
    .product .section-header h1 {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .product-slider-3 .col-lg-3 {
      padding: 5px;
    }
    .product-item {
      margin-bottom: 15px;
    }
    .product-item .product-title h3,
    .product-item .product-title a {
      font-size: 14px;
    }
    .product-item .product-price h3 {
      font-size: 16px;
    }
    .product-item .btn {
      font-size: 14px;
      padding: 8px 12px;
    }
    /* Sidebar adjustments (if needed) */
    .sidebar-widget {
      margin-bottom: 15px;
    }
  }
</style>
{% endblock extra_head %}

{% block content %}
    <!-- Breadcrumb Start -->
    {% include 'breadcrumb.html' %}
    <!-- Breadcrumb End -->

    <!-- Product Detail Start -->
    <div class="product-detail">
        <div class="container-fluid">
            <div class="row">
                <!-- Main Product Section -->
                <div class="col-lg-8">
                    <div class="product-detail-top">
                        <div class="row align-items-center">
                            <div class="col-md-5">
                                {% if product.image %}
                                    <div class="product-slider-single normal-slider">
                                        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid">
                                    </div>
                                {% else %}
                                    <img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}" class="img-fluid">
                                {% endif %}
                            </div>
                            <div class="col-md-7">
                                <div class="product-content">
                                    <div class="title">
                                        <h2>{{ product.name }}</h2>
                                    </div>
                                    <div class="ratting">
                                        {% for star in "12345"|make_list %}
                                            <i class="fa fa-star"></i>
                                        {% endfor %}
                                    </div>
                                    <div class="price">
                                        <h4>Price:</h4>
                                        <p>₦{{ product.price }}</p>
                                    </div>
                                    <div class="quantity">
                                        <h4>Quantity:</h4>
                                        <div class="qty" style="background-color: #fff;">
                                            <button class="btn-minus"><i class="fa fa-minus"></i></button>
                                            <input type="number" name="quantity" value="{{ cart_item_quantity }}" min="1" class="orange-qty">
                                            <button class="btn-plus"><i class="fa fa-plus"></i></button>
                                        </div>
                                    </div>
                                    <!-- Additional options like size and color can be added here -->
                                    <div class="action">
                                        <a class="btn" href="{% url 'myapp:add_to_cart' product.id %}">
                                            <i class="fa fa-shopping-cart"></i> Add to Cart
                                        </a>
                                        <a class="btn" href="{% url 'myapp:add_to_cart' product.id %}?buy_now=1">
                                            <i class="fa fa-shopping-bag"></i> Buy Now
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tabbed Details Section -->
                    <div class="row product-detail-bottom">
                        <div class="col-lg-12">
                            <ul class="nav nav-pills nav-justified">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="pill" href="#description">Description</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#specification">Specification</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#reviews">Reviews</a>
                                </li>
                            </ul>
    
                            <div class="tab-content">
                                <div id="description" class="container tab-pane active">
                                    <h4>Product Description</h4>
                                    <p>{{ product.description }}</p>
                                </div>
                                <div id="specification" class="container tab-pane fade">
                                    <h4>Product Specification</h4>
                                    <ul>
                                        <li>Category: {{ product.category.name }}</li>
                                        <!-- Add more specification details if needed -->
                                    </ul>
                                </div>
                                <div id="reviews" class="container tab-pane fade">
                                    <!-- Reviews Section: Implement as needed -->
                                    <p>No reviews yet.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Related Products Section -->
                    <div class="product">
                        <div class="section-header">
                            <h1>Related Products</h1>
                        </div>
    
                        <div class="row align-items-center product-slider product-slider-3">
                            {% for related in related_products %}
                                <div class="col-lg-3">
                                    <div class="product-item">
                                        <div class="product-title">
                                            <a href="{% url 'myapp:product_detail' related.pk %}">{{ related.name }}</a>
                                            <div class="ratting">
                                                {% for star in "12345"|make_list %}
                                                    <i class="fa fa-star"></i>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        <div class="product-image">
                                            <a href="{% url 'myapp:product_detail' related.pk %}">
                                                {% if related.image %}
                                                    <img src="{{ related.image.url }}" alt="{{ related.name }}">
                                                {% else %}
                                                    <img src="{% static 'img/default-product.jpg' %}" alt="{{ related.name }}">
                                                {% endif %}
                                            </a>
                                            <div class="product-action">
                                                <a href="#"><i class="fa fa-cart-plus"></i></a>
                                                <a href="#"><i class="fa fa-heart"></i></a>
                                                <a href="#"><i class="fa fa-search"></i></a>
                                            </div>
                                        </div>
                                        <div class="product-price">
                                            <h3><span>₦</span>{{ related.price }}</h3>
                                            <a class="btn" href="{% url 'myapp:product_detail' related.pk %}">
                                                <i class="fa fa-shopping-cart"></i> Buy Now
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            {% empty %}
                                <p>No related products available.</p>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                
                <!-- Sidebar Section -->
                <div class="col-lg-4 sidebar">
                    <div class="sidebar-widget category">
                        <h2 class="title">Category</h2>
                        <nav class="navbar bg-light">
                            <ul class="navbar-nav">
                                {% for category in categories %}
                                    <li class="nav-item">
                                        <a class="nav-link" href="?category={{ category.slug }}">
                                            <i class="fa fa-folder"></i> {{ category.name }}
                                        </a>
                                    </li>
                                {% empty %}
                                    <li class="nav-item"><span>No categories found.</span></li>
                                {% endfor %}
                            </ul>
                        </nav>
                    </div>
                    
                    <div class="sidebar-widget widget-slider">
                        <div class="sidebar-slider normal-slider">
                            {% for slider_product in slider_products %}
                            <div class="product-item">
                                <div class="product-title">
                                    <a href="{% url 'myapp:product_detail' slider_product.id %}">{{ slider_product.name }}</a>
                                    <div class="ratting">
                                        {% for star in "12345"|make_list %}
                                            <i class="fa fa-star"></i>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="product-image">
                                    <a href="{% url 'myapp:product_detail' slider_product.id %}">
                                        {% if slider_product.image %}
                                            <img src="{{ slider_product.image.url }}" alt="{{ slider_product.name }}">
                                        {% else %}
                                            <img src="{% static 'img/default-product.jpg' %}" alt="Default Product">
                                        {% endif %}
                                    </a>
                                    <div class="product-action">
                                        <a href="#"><i class="fa fa-cart-plus"></i></a>
                                        <a href="#"><i class="fa fa-heart"></i></a>
                                        <a href="#"><i class="fa fa-search"></i></a>
                                    </div>
                                </div>
                                <div class="product-price">
                                    <h3><span>₦</span>{{ slider_product.price }}</h3>
                                    <a class="btn" href="{% url 'myapp:product_detail' slider_product.id %}">
                                        <i class="fa fa-shopping-cart"></i> Buy Now
                                    </a>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <div class="sidebar-widget brands">
                        <h2 class="title">Our Brands</h2>
                        <ul>
                            <li><a href="#">Nulla </a><span>(45)</span></li>
                            <li><a href="#">Curabitur </a><span>(34)</span></li>
                            <li><a href="#">Nunc </a><span>(67)</span></li>
                            <li><a href="#">Ullamcorper</a><span>(74)</span></li>
                            <li><a href="#">Fusce </a><span>(89)</span></li>
                            <li><a href="#">Sagittis</a><span>(28)</span></li>
                        </ul>
                    </div>
                    
                    <div class="sidebar-widget tag">
                        <h2 class="title">Tags Cloud</h2>
                        <a href="#">Lorem ipsum</a>
                        <a href="#">Vivamus</a>
                        <a href="#">Phasellus</a>
                        <a href="#">pulvinar</a>
                        <a href="#">Curabitur</a>
                        <a href="#">Fusce</a>
                        <a href="#">Sem quis</a>
                        <a href="#">Mollis metus</a>
                        <a href="#">Sit amet</a>
                        <a href="#">Vel posuere</a>
                        <a href="#">orci luctus</a>
                        <a href="#">Nam lorem</a>
                    </div>
                </div>
                <!-- End Sidebar -->
            </div>
        </div>
    </div>
    <!-- Product Detail End -->

    

    <!-- <div class="review" data-aos="fade-up">
        <div class="container-fluid">
            <div class="row align-items-center review-slider normal-slider">
                <div class="col-md-6">
                    <div class="review-slider-item">
                        <div class="review-img">
                            <img src="{% static 'img/review-1.jpg' %}" alt="Image">
                        </div>
                        <div class="review-text">
                            <h2>Customer Name</h2>
                            <h3>Profession</h3>
                            <div class="ratting">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur vitae nunc eget leo finibus luctus et vitae lorem.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="review-slider-item">
                        <div class="review-img">
                            <img src="{% static 'img/review-2.jpg' %}" alt="Image">
                        </div>
                        <div class="review-text">
                            <h2>Customer Name</h2>
                            <h3>Profession</h3>
                            <div class="ratting">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur vitae nunc eget leo finibus luctus et vitae lorem.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="review-slider-item">
                        <div class="review-img">
                            <img src="{% static 'img/review-3.jpg' %}" alt="Image">
                        </div>
                        <div class="review-text">
                            <h2>Customer Name</h2>
                            <h3>Profession</h3>
                            <div class="ratting">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur vitae nunc eget leo finibus luctus et vitae lorem.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!-- Brand End -->
        
{% endblock content %}
